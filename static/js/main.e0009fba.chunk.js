(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,n,t){e.exports=t(84)},49:function(e,n,t){},71:function(e,n){},73:function(e,n){},84:function(e,n,t){"use strict";t.r(n);var r=t(6),a=t.n(r),o=t(35),i=t.n(o),l=(t(49),t(18)),s=t.n(l),c=t(36),u=t(37),d=t(38),p=t(42),h=t(39),m=t(43),f=t(0),w=t(40),v=t(4),y=t.n(v);y.a.interceptors.response.use(null,function(e){return e.response&&e.response.status>=400&&e.response.status<500?console.log("Expected error occured.",e.response):console.log("Unexpected error occured.",e),Promise.reject(e)});var g={get:y.a.get,post:y.a.post,put:y.a.put,delete:y.a.delete,setJwt:function(e){y.a.defaults.headers.common["x-auth-token"]=e}},S=t(41),b=t.n(S),x={height:"100vh",overflow:"hidden"},j={InteriorWall:16711680,ExteriorWall:255,Roof:65280,InteriorFloor:16776960,Shade:16711935,SlabOnGrade:5592405},P=function(e){function n(){var e,t;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(p.a)(this,(e=Object(h.a)(n)).call.apply(e,[this].concat(a)))).sceneSetup=function(){var e=t.el.clientWidth,n=t.el.clientHeight;t.scene=new f.p,t.camera=new f.l(100,e/n,1,1e4),t.camera.up.set(0,0,1),t.controls=new w.a(t.camera,t.el),t.renderer=new f.x({alpha:!0,antialias:!0}),t.renderer.setSize(e,n),t.el.appendChild(t.renderer.domElement),t.lightAmbient=new f.a(10066329),t.scene.add(t.lightAmbient),t.lightDirectional=new f.d(16777215,1),t.lightDirectional.position.set(1,0,1),t.lightDirectional.shadow.mapSize.width=2048,t.lightDirectional.shadow.mapSize.height=2048,t.lightDirectional.castShadow=!0,t.scene.add(t.lightDirectional),t.lightPoint=new f.n(16777215,.5),t.camera.add(t.lightPoint),t.scene.add(t.camera),t.axesHelper=new f.b(200),t.scene.add(t.axesHelper),t.readXMLFile()},t.startAnimationLoop=function(){t.renderer.render(t.scene,t.camera),t.requestID=window.requestAnimationFrame(t.startAnimationLoop),t.controls.update()},t.handleWindowResize=function(){var e=t.el.clientWidth,n=t.el.clientHeight;t.renderer.setSize(e,n),t.camera.aspect=e/n,t.camera.updateProjectionMatrix()},t.readXMLFile=Object(c.a)(s.a.mark(function e(){var n,r,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("assets/OfficeBuilding.xml");case 2:n=e.sent,r=n.data,a=b.a.xml2js(r,{compact:!0,space:4}),o=a.gbXML,t.addCustomSceneObjects(o);case 6:case"end":return e.stop()}},e)})),t.addCustomSceneObjects=function(e){var n=e.Campus.Surface,r=[],a=[],o=!0,i=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;if(u.Opening)if(u.Opening.PlanarGeometry){var d=u.Opening.PlanarGeometry.PolyLoop,p=t.getPoints(d);a.push([p])}else{var h=[],m=!0,w=!1,v=void 0;try{for(var y,g=u.Opening[Symbol.iterator]();!(m=(y=g.next()).done);m=!0){var S=y.value.PlanarGeometry.PolyLoop,b=t.getPoints(S);h.push(b)}}catch(L){w=!0,v=L}finally{try{m||null==g.return||g.return()}finally{if(w)throw v}}a.push(h)}else a.push([]);var x=u.PlanarGeometry.PolyLoop,P=t.getPoints(x);r.push(P)}}catch(L){i=!0,l=L}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}t.scene.remove(t.campusSurfaces),t.campusSurfaces=new f.j;for(var O=0;O<r.length;O++){var W=new f.i({color:j[n[O]._attributes.surfaceType],emissive:0,side:f.e,flatShading:!0}),z=t.drawShapeSinglePassObjects(r[O],W,a[O]);t.campusSurfaces.add(z)}t.scene.add(t.campusSurfaces),t.zoomObjectBoundingSphere(t.campusSurfaces)},t.getPoints=function(e){var n=[],t=!0,r=!1,a=void 0;try{for(var o,i=e.CartesianPoint[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value.Coordinate.map(function(e){return parseFloat(e._text)}),s=(new f.w).fromArray(l);n.push(s)}}catch(c){r=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(r)throw a}}return n},t.drawShapeSinglePassObjects=function(e,n,t){var r=(new f.m).setFromCoplanarPoints(e[0],e[1],e[2]),a=new f.j;a.lookAt(r.normal);var o=new f.j;o.quaternion.copy(a.clone().quaternion.conjugate()),o.updateMatrixWorld(!0);var i=!0,l=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;o.localToWorld(d)}}catch(k){l=!0,s=k}finally{try{i||null==u.return||u.return()}finally{if(l)throw s}}var p=new f.q(e);p.autoClose=!0;var h=!0,m=!1,w=void 0;try{for(var v,y=t[Symbol.iterator]();!(h=(v=y.next()).done);h=!0){var g=v.value,S=!0,b=!1,x=void 0;try{for(var j,P=g[Symbol.iterator]();!(S=(j=P.next()).done);S=!0){var O=j.value;o.localToWorld(O)}}catch(k){b=!0,x=k}finally{try{S||null==P.return||P.return()}finally{if(b)throw x}}var W=new f.k;W.setFromPoints(g),p.holes.push(W)}}catch(k){m=!0,w=k}finally{try{h||null==y.return||y.return()}finally{if(m)throw w}}var z=new f.r(p),L=new f.h(z,n);return L.quaternion.copy(a.quaternion),L.position.copy(r.normal.multiplyScalar(-r.constant)),L},t.zoomObjectBoundingSphere=function(e){var n=(new f.c).setFromObject(e),r=new f.s;n.getBoundingSphere(r);var a=r.center,o=r.radius;t.controls.target.copy(a),t.controls.maxDistance=5*o,t.camera.position.copy(a.clone().add(new f.w(1*o,-1*o,1*o))),t.camera.far=10*o,t.camera.updateProjectionMatrix()},t}return Object(m.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){this.sceneSetup(),this.startAnimationLoop(),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("orientationchange",this.handleWindowResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("orientationchange",this.handleWindowResize,!1),window.cancelAnimationFrame(this.requestID),this.controls.dispose()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:x,ref:function(n){return e.el=n}})}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.e0009fba.chunk.js.map